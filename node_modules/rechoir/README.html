<h1>rechoir <a href="http://travis-ci.org/tkellen/js-rechoir"><img src="https://secure.travis-ci.org/tkellen/js-rechoir.png" alt="Build Status"></a></h1>
<blockquote>
<p>Require any supported file as a node module.</p>
</blockquote>
<p><a href="https://nodei.co/npm/rechoir/"><img src="https://nodei.co/npm/rechoir.png" alt="NPM"></a></p>
<h2>What is it?</h2>
<p>This module, in conjunction with <a href="http://github.com/tkellen/js-interpret">interpret</a>-like objects can register any file type the npm ecosystem has a module loader for. This library is a dependency of <a href="http://github.com/tkellen/js-liftoff">Liftoff</a>.</p>
<h2>API</h2>
<h3>prepare(config, filepath, requireFrom)</h3>
<p>Look for a module loader associated with the provided file and attempt require it.  If necessary, run any setup required to inject it into <a href="http://nodejs.org/api/globals.html#globals_require_extensions">require.extensions</a>.</p>
<p><code>config</code> An <a href="http://github.com/tkellen/js-interpret">interpret</a>-like configuration object.</p>
<p><code>filepath</code> A file whose type you'd like to register a module loader for.</p>
<p><code>requireFrom</code> An optional path to start searching for the module required to load the requested file.  Defaults to the directory of <code>filepath</code>.</p>
<p>If calling this method is successful (aka: it doesn't throw), you can now require files of the type you requested natively.</p>
<p>An error with a <code>failures</code> property will be thrown if the module loader(s) configured for a given extension cannot be registered.</p>
<p>If a loader is already registered, this will simply return <code>true</code>.</p>
<p><strong>Note:</strong> While rechoir will automatically load and register transpilers like <code>coffee-script</code>, you must provide a local installation. The transpilers are <strong>not</strong> bundled with this module.</p>
<h4>Usage</h4>
<pre><code class="language-js"><span class="hljs-keyword">const</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'interpret'</span>).extensions;
<span class="hljs-keyword">const</span> rechoir = <span class="hljs-built_in">require</span>(<span class="hljs-string">'rechoir'</span>);
rechoir.prepare(config, <span class="hljs-string">'./test/fixtures/test.coffee'</span>);
rechoir.prepare(config, <span class="hljs-string">'./test/fixtures/test.csv'</span>);
rechoir.prepare(config, <span class="hljs-string">'./test/fixtures/test.toml'</span>);

<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">require</span>(<span class="hljs-string">'./test/fixtures/test.coffee'</span>));
<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">require</span>(<span class="hljs-string">'./test/fixtures/test.csv'</span>));
<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">require</span>(<span class="hljs-string">'./test/fixtures/test.toml'</span>));
</code></pre>
